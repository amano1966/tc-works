import { h, // eslint-disable-line @typescript-eslint/no-unused-vars
 } from "@stencil/core";
import NavigateTableCells from "../../../utilities/table-cell-navigation.utility";
import { KEYBOARD_ENTER, KEYBOARD_SPACE } from "../../../modus-table.constants";
export const ModusTableCellCheckbox = ({ multipleRowSelection, row, isChecked, checkboxSize, updateRow, disableRow, }) => {
    let cellEl = null;
    let checkboxInput = null;
    function handleKeyDown(e) {
        if (e.key.toLowerCase() === KEYBOARD_ENTER) {
            e.stopPropagation();
            return;
        }
        NavigateTableCells({
            eventKey: e.key,
            cellElement: cellEl,
        });
    }
    function handleCheckboxKeyDown(e) {
        if (disableRow)
            return;
        if (e.key.toLowerCase() === KEYBOARD_ENTER || e.key.toLowerCase() === KEYBOARD_SPACE) {
            e.preventDefault();
            updateRow();
        }
    }
    return (h("td", { class: 'row-checkbox sticky-left ' + (checkboxSize !== null && checkboxSize !== void 0 ? checkboxSize : ''), tabIndex: 0, ref: (el) => (cellEl = el), onFocus: () => checkboxInput === null || checkboxInput === void 0 ? void 0 : checkboxInput.focusCheckbox(), onKeyDown: (e) => handleKeyDown(e) }, h("modus-checkbox", { ariaLabel: "Select row", ref: (el) => (checkboxInput = el), checked: isChecked, indeterminate: multipleRowSelection && row.getIsSomeSelected(), size: checkboxSize, disabled: disableRow, onKeyDown: (e) => handleCheckboxKeyDown(e) })));
};
