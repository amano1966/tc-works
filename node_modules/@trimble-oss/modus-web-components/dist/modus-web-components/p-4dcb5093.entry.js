import{r as t,c as s,h as i,H as e,g as h}from"./p-c64eb6ff.js";const o="single",n="multiple",d="none",r="selected",l=class{constructor(i){t(this,i),this.buttonGroupClick=s(this,"buttonGroupClick",7),this.buttonSelectionChange=s(this,"buttonSelectionChange",7),this.selectedButtons=[],this.observer=null,this.ariaDisabled=void 0,this.ariaLabel=void 0,this.buttonStyle="outline",this.color="primary",this.disabled=void 0,this.selectionType=d,this.size="medium"}selectionTypeChanged(t){t===d&&(this.selectedButtons.forEach((t=>t.setActive(!1))),this.selectedButtons=[])}disabledChanged(){this.setupButtons(!0)}sizeChanged(){this.setupButtons()}componentWillLoad(){this.setupButtons()}componentDidLoad(){this.observer=new MutationObserver(this.handleMutations.bind(this)),this.observer.observe(this.host,{subtree:!0,attributes:!0,attributeFilter:[r]})}disconnectedCallback(){var t;null===(t=this.observer)||void 0===t||t.disconnect()}handleSlotChange(){this.setupButtons()}handleButtonClick(t){const s=t.target;if(this.selectionType!==d){switch(this.selectionType){case o:this.toggleSingleSelect(s);break;case n:this.toggleMultiSelect(s)}this.buttonSelectionChange.emit(this.selectedButtons),this.buttonGroupClick.emit({button:s,isSelected:this.selectedButtons.includes(s)})}}handleMutations(t){for(const s of t)"attributes"===s.type&&s.attributeName===r&&this.setupButtons()}handleButtonSelection(t,s){s?(t.setActive(!0),this.selectedButtons.push(t)):(t.setActive(!1),this.selectedButtons.includes(t)&&(this.selectedButtons=this.selectedButtons.filter((s=>s!==t))))}setupButtons(t){customElements.whenDefined("modus-button").then((()=>{const s=this.host.querySelectorAll("modus-button");this.renderButtons(s,t)}))}renderButtons(t,s){const i=this.determineButtonType();let e=!1;t.forEach((t=>{s?(t.ariaDisabled=this.ariaDisabled,t.disabled=this.disabled):(t.ariaDisabled=t.ariaDisabled||this.ariaDisabled,t.disabled=t.disabled||this.disabled),t.buttonStyle=this.buttonStyle,t.color=this.color,t.size=this.size,t.type=i;const h=t.hasAttribute(r)&&"false"!==t.getAttribute(r);this.selectionType===o?h&&!e?(this.handleButtonSelection(t,!0),e=!0):this.handleButtonSelection(t,!1):this.selectionType===n&&this.handleButtonSelection(t,h)}))}determineButtonType(){return this.selectionType===d?"button":"toggle"}toggleMultiSelect(t){const s=this.selectedButtons.includes(t);t.setActive(!s),this.selectedButtons=s?this.selectedButtons.filter((s=>s!==t)):[...this.selectedButtons,t]}toggleSingleSelect(t){const s=this.selectedButtons.includes(t);this.selectedButtons.forEach((t=>t.setActive(!1))),this.selectedButtons=s?[]:[t],s||t.setActive(!0)}render(){return i(e,{key:"d8b941eec339bb068a23b6aec06c5e9c49449d31","aria-label":this.ariaLabel,"aria-disabled":this.ariaDisabled?this.ariaDisabled:this.disabled?"true":void 0,role:"group"},i("slot",{key:"f593f0ffe06268419d7da12f8cb8290e7fb01269"}))}get host(){return h(this)}static get watchers(){return{selectionType:["selectionTypeChanged"],disabled:["disabledChanged"],buttonStyle:["sizeChanged"],color:["sizeChanged"],size:["sizeChanged"]}}};l.style=":host{display:flex}:host slot::slotted(modus-button){display:block;margin:0;--btn-border-radius:0;--btn-border-left-width:0.0625rem;--btn-border-right-width:0}:host slot::slotted(modus-button:first-child){--btn-border-radius:0.25rem 0 0 0.25rem}:host slot::slotted(modus-button:last-child){--btn-border-radius:0 0.25rem 0.25rem 0;--btn-border-right-width:0.0625rem}:host slot::slotted(modus-button:only-child){--btn-border-radius:0.25rem}";export{l as modus_button_group}