import{r as i,c as e,h as t,H as o,g as s}from"./p-c64eb6ff.js";import{M as d}from"./p-58d81fd3.js";import{c as n}from"./p-68a5aaff.js";import"./p-5e48480e.js";import"./p-bb578bd5.js";import"./p-9ad0c79e.js";import"./p-915cd2ac.js";import"./p-7214be7f.js";const a=class{constructor(t){i(this,t),this.sideNavItemClicked=e(this,"sideNavItemClicked",7),this.sideNavItemHeaderClicked=e(this,"sideNavItemHeaderClicked",7),this.sideNavItemFocus=e(this,"sideNavItemFocus",7),this._sideNavItemAdded=e(this,"_sideNavItemAdded",7),this._sideNavItemRemoved=e(this,"_sideNavItemRemoved",7),this.sideNavListItemClicked=e(this,"sideNavListItemClicked",7),this.popperInstance=null,this.disabled=!1,this.disableSelection=!1,this.expanded=!1,this.label=void 0,this.menuIcon=void 0,this.selected=!1,this.showExpandIcon=!1,this.isHeader={enabled:!1,items:[]},this.dropdownVisible=!1}async focusItem(){var i;null===(i=this._itemRef)||void 0===i||i.focus()}watchExpanded(){this.dropdownVisible&&(this.dropdownVisible=!1)}connectedCallback(){var i;this._sideNavItemAdded.emit(this.element),(null===(i=this.isHeader)||void 0===i?void 0:i.enabled)&&(this.showExpandIcon=!0),document.addEventListener("mousedown",this.handleDocumentClick.bind(this))}disconnectedCallback(){this._sideNavItemRemoved.emit(this.element),this.destroyPopper(),document.removeEventListener("mousedown",this.handleDocumentClick.bind(this))}handleListItemClick(i){var e;this.sideNavListItemClicked.emit({id:null==i?void 0:i.id}),this.dropdownVisible=!1,this.label=null==i?void 0:i.label,this.menuIcon=(null==i?void 0:i.icon)||this.menuIcon,null===(e=this.sideNavItemHeaderClicked)||void 0===e||e.emit({id:null==i?void 0:i.id,selected:null==this?void 0:this.selected}),this.destroyPopper()}findParentReference(i){let e=i;for(;e;){if(e instanceof HTMLElement&&e.matches("nav"))return e;e=e instanceof ShadowRoot?e.host:e.parentElement||e.getRootNode()}return null}setupPopper(i){var e;if(!this.referenceRef||!this.dropdownRef)return;const t=null===(e=this.findParentReference(this.element))||void 0===e?void 0:e.clientWidth;this.popperInstance=n(this.referenceRef,this.dropdownRef,{placement:i?"bottom-start":"right",modifiers:[{name:"offset",options:{offset:[0,2],distance:10}},{name:"setWidth",enabled:!0,phase:"write",fn:({state:i})=>{i.placement.startsWith("bottom")?i.elements.popper.style.width=t-2+"px"||"300px":i.placement.startsWith("right")&&(i.elements.popper.style.width="250px")}}]})}destroyPopper(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null)}handleClick(){var i,e,t,o;if(this.disabled)return;const s=null===(i=this.element.parentElement)||void 0===i?void 0:i.querySelectorAll("modus-side-navigation-item");return s&&(null==s||s.forEach((i=>{i!==this.element&&(i.selected=!1)}))),this.selected=this.disableSelection?this.selected:!(null===(e=this.isHeader)||void 0===e?void 0:e.enabled)&&!this.selected,null===(t=this.sideNavItemClicked)||void 0===t||t.emit({id:this.element.id,selected:null==this?void 0:this.selected}),(null===(o=this.isHeader)||void 0===o?void 0:o.enabled)?(this.dropdownVisible=!this.dropdownVisible,void(this.dropdownVisible?this.setupPopper(this.expanded):this.destroyPopper())):void 0}handleKeyDown(i){"ENTER"!==i.code.toUpperCase()&&"SPACE"!==i.code.toUpperCase()||this.handleClick()}handleDocumentClick(i){var e,t;const o=i.target;(null===(e=this.dropdownRef)||void 0===e?void 0:e.contains(o))||(null===(t=this.referenceRef)||void 0===t?void 0:t.contains(o))||(this.dropdownVisible=!1,this.destroyPopper())}renderDropdown(){var i,e;return t("div",{class:`dropdown-list ${this.dropdownVisible?"visible":"hidden"} list-border animate-list`,ref:i=>this.dropdownRef=i},t("modus-list",{slot:"dropdownList"},null===(e=null===(i=this.isHeader)||void 0===i?void 0:i.items)||void 0===e?void 0:e.map((i=>t("modus-list-item",{key:i.id,class:"list-item",borderless:!0,onClick:()=>this.handleListItemClick(i),onMouseDown:i=>i.stopPropagation()},t("span",{class:"dropdown-item"},t(d,{icon:null==i?void 0:i.icon,size:"24"}),t("span",{class:"menu-item-text"},null==i?void 0:i.label)))))))}render(){var i,e;const s={"side-nav-item":!0,expanded:this.expanded,selected:this.selected,disabled:this.disabled};return t(o,{key:"d4bdedb88c38428854b9accdc6d446ddf4794847"},(null===(i=this.isHeader)||void 0===i?void 0:i.enabled)&&this.renderDropdown(),t("modus-tooltip",{key:"b69df05ede4b8851c12a46d69d80a06d5a5ae8ad",text:this.label,disabled:this.disabled,position:"right"},t("li",{key:"6f2c8afa51dd8474e13f7a52c4e5f60a3f071a35",role:"treeitem",ref:i=>this.referenceRef=i,tabIndex:this.disabled?-1:0,class:s,onClick:()=>this.handleClick(),onKeyDown:i=>this.handleKeyDown(i),"aria-disabled":this.disabled?"true":null,"aria-label":this.label,"aria-current":this.selected?"true":null,onFocus:()=>this.sideNavItemFocus.emit({id:this.element.id})},t("div",{key:"6c3d9a52b1030e512b78b23f7de8b71fce54d585",class:"menu-icon"},t("slot",{key:"34f8cc40110e7b9485d2fd8cea553e0b16ea2672",name:"menu-icon"}),this.menuIcon&&t(d,{icon:this.menuIcon,"aria-label":this.label,size:"24"})),this.expanded&&t("div",{class:"menu-text"},this.label),t("div",{key:"43ab3253e1e596bc733f2461f0bad687ccd54414",class:"level-icon "+((null===(e=this.isHeader)||void 0===e?void 0:e.enabled)&&this.expanded?this.dropdownVisible?"icon-dropdownvisible":"icon-expanded":"icon-collapsed")},this.showExpandIcon&&t(d,{icon:"chevron_right",size:"16"})))))}get element(){return s(this)}static get watchers(){return{expanded:["watchExpanded"]}}};a.style=':host{display:block}.side-nav-item{align-items:center;background-color:var(--modus-side-navigation-item-bg, #fff);color:var(--modus-side-navigation-item-color, #252a2e);cursor:pointer;display:flex;fill:var(--modus-side-navigation-item-icon-color, #252a2e);height:3rem;position:relative;transition:top, left, height, width, opacity 0.2s ease-out 0s;z-index:0}.side-nav-item svg path{fill:var(--modus-side-navigation-item-icon-color, #252a2e)}.side-nav-item:hover:not(.disabled):not(.selected){background-color:var(--modus-side-navigation-item-hover-bg, #e0e1e9)}.side-nav-item .menu-icon{align-items:center;display:flex;justify-content:center;padding-left:1.25rem;z-index:0}.side-nav-item .menu-icon modus-tooltip{height:1.5rem;width:1.5rem}.side-nav-item .menu-icon img{filter:var(--modus-side-navigation-item-icon-filter)}.side-nav-item .menu-text{font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-size:0.875rem;overflow:hidden;padding-left:1rem;text-overflow:clip;white-space:nowrap}.side-nav-item .level-icon{align-items:center;display:flex;justify-content:center;margin-left:auto;padding:0 2px}.side-nav-item .level-icon svg path{fill:var(--modus-side-navigation-item-chevron-color, #252a2e)}.side-nav-item.expanded{transition:top, left, height, width, opacity 0.25s ease-in 0s}.side-nav-item.expanded .level-icon{padding:0 1rem}.side-nav-item.expanded .icon-expanded{transform:rotate(90deg)}.side-nav-item.expanded .icon-collapsed{transform:rotate(0deg)}.side-nav-item.expanded .icon-dropdownvisible{transform:rotate(270deg)}.side-nav-item.selected{background-color:var(--modus-side-navigation-item-active-bg, #217cbb);box-shadow:inset 0 0 2px var(--modus-side-navigation-item-active-border-color, #217cbb);color:var(--modus-side-navigation-item-active-color, #fff)}.side-nav-item.selected .menu-icon img{filter:var(--modus-side-navigation-item-icon-active-filter, invert(95%) sepia(100%) saturate(0%) hue-rotate(151deg) brightness(104%) contrast(105%))}.side-nav-item.selected svg path{fill:var(--modus-side-navigation-item-icon-active-color, #fff)}.side-nav-item.disabled{opacity:var(--modus-side-navigation-item-disabled-opacity, 0.3)}.dropdown.disabled{pointer-events:none}.dropdown:hover{cursor:pointer}.dropdown-list{border-collapse:collapse;border-radius:0.25rem;display:none;max-height:200px;opacity:1;overflow-x:auto;overflow-y:auto;position:absolute;transition:opacity 0.2s ease-in-out;z-index:1050}.dropdown-list.animate-list{display:block;opacity:0;visibility:hidden}.dropdown-list.visible{display:block;opacity:1;visibility:visible}.dropdown-list.list-border{border:1px solid var(--modus-dropdown-list-border-color, #6a6e79)}.dropdown-list.top{bottom:0}.dropdown-list.right{top:0}.dropdown-list.left{right:0;top:0}.dropdown-list .list-item::part(list-item-li){background-color:var(--modus-side-navigation-item-bg, #fff);border-radius:unset;color:var(--modus-side-navigation-item-color, #252a2e)}.dropdown-list .list-item::part(list-item-li):hover{background-color:var(--modus-side-navigation-item-hover-bg, #e0e1e9)}.dropdown-item{align-items:center;cursor:pointer;display:flex;font-family:"Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-size:0.875rem;gap:1rem;padding:0.4rem}.dropdown-item .menu-item-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}';export{a as modus_side_navigation_item}